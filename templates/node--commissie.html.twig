{#
/**
 * @file
 * Theme override to display a 'Commissie' node.
 */
#}

{%
  set classes = [
    'node',
    'node--type-' ~ node.bundle|clean_class,
    node.isPromoted() ? 'node--promoted',
    node.isSticky() ? 'node--sticky',
    not node.isPublished() ? 'node--unpublished',
    view_mode ? 'node--view-mode-' ~ view_mode|clean_class,
    'clearfix',
    'py-4'
  ]
%}

<article{{ attributes.addClass(classes) }}>

  {# --- 1. HERO IMAGE --- #}
  {% if content.field_foto|render %}
    <div class="row mb-5">
      <div class="col-12">
        <div class="rounded-3 overflow-hidden shadow-sm">
          {{ content.field_foto }}
        </div>
      </div>
    </div>
  {% endif %}

  <div class="row gx-5">
    
    {# --- 2. MAIN CONTENT (Description) --- #}
    <div class="col-lg-8 order-2 order-lg-1">
      <div class="content-body mb-5">
        {# Ensure the label is hidden in Manage Display #}
        {{ content.field_beschrijving }}
      </div>
    </div>

    {# --- 3. SIDEBAR (Contact & Members) --- #}
    <div class="col-lg-4 order-1 order-lg-2 mb-4 mb-lg-0">
      
      {# Sticky Card #}
      <div class="card bg-light border-0 shadow-sm sticky-top" style="top: 2rem; z-index: 10;">
        <div class="card-body">
          {# EMAIL #}
          {% if not node.field_email.isEmpty() %}
            <div class="d-flex mb-4">
              <div class="me-3 text-secondary">
                {# Email Icon #}
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16"><path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/></svg>
              </div>
              <div>
                <div>
                  <a href="mailto:{{ node.field_email.value }}" class="text-decoration-none">
                    {{ node.field_email.value }}
                  </a>
                </div>
              </div>
            </div>
          {% endif %}

          {# MEMBERS (Leden) #}
          {% if not node.field_leden.isEmpty() %}
            <div class="d-flex mb-3">
              <div class="me-3 text-secondary">
                {# Group/People Icon #}
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16"><path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm-9 7s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 2 12.996c.001-.264.167-1.03.76-1.72C3.312 10.629 4.282 10 6 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H2.022ZM6 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/></svg>
              </div>
              <div class="w-100">
                <h6 class="fw-bold mb-2">{{ 'Members'|t }}</h6>
                
                {# Render the list of members nicely #}
                <ul class="list-unstyled mb-0">
                  {% for item in node.field_leden %}
                    <li class="mb-1 border-bottom pb-1 border-light">
                      {{ item.value }}
                    </li>
                  {% endfor %}
                </ul>

              </div>
            </div>
          {% endif %}

        </div>
      </div>
    </div>

  </div>

  {# Clean remaining content #}
  {{ content|without('field_foto', 'field_beschrijving', 'field_email', 'field_leden') }}

</article>